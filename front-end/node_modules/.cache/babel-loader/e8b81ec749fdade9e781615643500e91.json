{"ast":null,"code":"import _classCallCheck from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var OneMovie=/*#__PURE__*/function(_Component){_inherits(OneMovie,_Component);var _super=_createSuper(OneMovie);function OneMovie(){var _this;_classCallCheck(this,OneMovie);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movie:{},isLoaded:false,error:null};return _this;}_createClass(OneMovie,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/v1/movie/\")+this.props.match.params.id).then(function(response){if(response.status!==\"200\"){var err=Error;err.message=\"Invalid response code: \"+response.status;_this2.setState({error:err});}return response.json();}).then(function(json){_this2.setState({movie:json.movie,isLoaded:true},function(error){_this2.setState({isLoaded:true,error:error});});});}},{key:\"render\",value:function render(){var _this$state=this.state,movie=_this$state.movie,isLoaded=_this$state.isLoaded,error=_this$state.error;if(movie.genres){movie.genres=Object.values(movie.genres);}else{movie.genres=[];}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});}else if(!isLoaded){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}else{return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Movie: \",movie.title,\" (\",movie.year,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"float-start\",children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Rating: \",movie.mpaa_rating]})}),/*#__PURE__*/_jsx(\"div\",{className:\"float-end\",children:movie.genres.map(function(m,index){return/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary me-1\",children:m},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-compact table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"})}),/*#__PURE__*/_jsx(\"td\",{children:movie.title})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"})}),/*#__PURE__*/_jsx(\"td\",{children:movie.description})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Run time:\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[movie.runtime,\" minutes\"]})]})]})]})]});}}}]);return OneMovie;}(Component);export{OneMovie as default};","map":{"version":3,"sources":["/home/aljani/projects/react_go/front-end/src/components/OneMovie.js"],"names":["React","Component","Fragment","OneMovie","state","movie","isLoaded","error","fetch","process","env","REACT_APP_API_URL","props","match","params","id","then","response","status","err","Error","message","setState","json","genres","Object","values","title","year","mpaa_rating","map","m","index","description","runtime"],"mappings":"4mBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,C,2FAEqBC,CAAAA,Q,mUACnBC,K,CAAQ,CAAEC,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,KAAvB,CAA8BC,KAAK,CAAE,IAArC,C,qEAER,4BAAoB,iBAClBC,KAAK,CAAC,UAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAf,eAA+C,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAxE,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,MAAT,GAAoB,KAAxB,CAA+B,CAC7B,GAAIC,CAAAA,GAAG,CAAGC,KAAV,CACAD,GAAG,CAACE,OAAJ,CAAc,0BAA4BJ,QAAQ,CAACC,MAAnD,CACA,MAAI,CAACI,QAAL,CAAc,CAAEf,KAAK,CAAEY,GAAT,CAAd,EACD,CACD,MAAOF,CAAAA,QAAQ,CAACM,IAAT,EAAP,CACD,CARH,EASGP,IATH,CASQ,SAACO,IAAD,CAAU,CACd,MAAI,CAACD,QAAL,CACE,CACEjB,KAAK,CAAEkB,IAAI,CAAClB,KADd,CAEEC,QAAQ,CAAE,IAFZ,CADF,CAKE,SAACC,KAAD,CAAW,CACT,MAAI,CAACe,QAAL,CAAc,CACZhB,QAAQ,CAAE,IADE,CAEZC,KAAK,CAALA,KAFY,CAAd,EAID,CAVH,EAYD,CAtBH,EAuBD,C,sBAED,iBAAS,CACP,gBAAmC,KAAKH,KAAxC,CAAQC,KAAR,aAAQA,KAAR,CAAeC,QAAf,aAAeA,QAAf,CAAyBC,KAAzB,aAAyBA,KAAzB,CACA,GAAIF,KAAK,CAACmB,MAAV,CAAkB,CACdnB,KAAK,CAACmB,MAAN,CAAeC,MAAM,CAACC,MAAP,CAAcrB,KAAK,CAACmB,MAApB,CAAf,CACH,CAFD,IAEO,CACHnB,KAAK,CAACmB,MAAN,CAAe,EAAf,CACH,CAED,GAAIjB,KAAJ,CAAW,CACT,mBAAO,iCAAaA,KAAK,CAACc,OAAnB,GAAP,CACD,CAFD,IAEO,IAAI,CAACf,QAAL,CAAe,CACpB,mBAAO,iCAAP,CACD,CAFM,IAEA,CACL,mBACE,MAAC,QAAD,yBACE,gCACUD,KAAK,CAACsB,KADhB,MACyBtB,KAAK,CAACuB,IAD/B,OADF,cAKI,YAAK,SAAS,CAAC,aAAf,uBACI,oCAAgBvB,KAAK,CAACwB,WAAtB,GADJ,EALJ,cAQI,YAAK,SAAS,CAAC,WAAf,UACKxB,KAAK,CAACmB,MAAN,CAAaM,GAAb,CAAiB,SAACC,CAAD,CAAIC,KAAJ,qBACd,aAAM,SAAS,CAAC,yBAAhB,UACKD,CADL,EAA+CC,KAA/C,CADc,EAAjB,CADL,EARJ,cAeI,YAAK,SAAS,CAAC,UAAf,EAfJ,cAiBI,aAjBJ,cAmBE,eAAO,SAAS,CAAC,mCAAjB,wBACE,gBADF,cAEE,sCACE,mCACE,iCACE,kCADF,EADF,cAIE,oBAAK3B,KAAK,CAACsB,KAAX,EAJF,GADF,cAOE,mCACI,iCAAI,wCAAJ,EADJ,cAEI,oBAAKtB,KAAK,CAAC4B,WAAX,EAFJ,GAPF,cAWE,mCACE,iCACE,qCADF,EADF,cAIE,sBAAK5B,KAAK,CAAC6B,OAAX,cAJF,GAXF,GAFF,GAnBF,GADF,CA2CD,CACF,C,sBAtFmCjC,S,SAAjBE,Q","sourcesContent":["import React, { Component, Fragment } from \"react\";\n\nexport default class OneMovie extends Component {\n  state = { movie: {}, isLoaded: false, error: null };\n\n  componentDidMount() {\n    fetch(`${process.env.REACT_APP_API_URL}/v1/movie/` + this.props.match.params.id)\n      .then((response) => {\n        if (response.status !== \"200\") {\n          let err = Error;\n          err.message = \"Invalid response code: \" + response.status;\n          this.setState({ error: err });\n        }\n        return response.json();\n      })\n      .then((json) => {\n        this.setState(\n          {\n            movie: json.movie,\n            isLoaded: true,\n          },\n          (error) => {\n            this.setState({\n              isLoaded: true,\n              error,\n            });\n          }\n        );\n      });\n  }\n\n  render() {\n    const { movie, isLoaded, error } = this.state;\n    if (movie.genres) {\n        movie.genres = Object.values(movie.genres);\n    } else {\n        movie.genres = [];\n    }\n\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <p>Loading...</p>;\n    } else {\n      return (\n        <Fragment>\n          <h2>\n            Movie: {movie.title} ({movie.year})\n          </h2>\n\n            <div className=\"float-start\">\n                <small>Rating: {movie.mpaa_rating}</small>\n            </div>\n            <div className=\"float-end\">\n                {movie.genres.map((m, index) =>(\n                    <span className=\"badge bg-secondary me-1\" key={index}>\n                        {m}\n                    </span>\n                ))}\n            </div>\n            <div className=\"clearfix\"></div>\n\n            <hr />\n\n          <table className=\"table table-compact table-striped\">\n            <thead></thead>\n            <tbody>\n              <tr>\n                <td>\n                  <strong>Title:</strong>\n                </td>\n                <td>{movie.title}</td>\n              </tr>\n              <tr>\n                  <td><strong>Description:</strong></td>\n                  <td>{movie.description}</td>\n              </tr>\n              <tr>\n                <td>\n                  <strong>Run time:</strong>\n                </td>\n                <td>{movie.runtime} minutes</td>\n              </tr>\n            </tbody>\n          </table>\n        </Fragment>\n      );\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}