{"ast":null,"code":"import _objectSpread from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/aljani/projects/react_go/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{BrowserRouter as Router,Switch,Route,Link}from\"react-router-dom\";import Movies from\"./components/Movies\";import Admin from\"./components/Admin\";import Home from\"./components/Home\";import OneMovie from\"./components/OneMovie\";import Genres from\"./components/Genres\";import OneGenre from\"./components/OneGenre\";import Login from\"./components/Login\";import GraphQL from\"./components/GraphQL\";import OneMovieGraphQL from\"./components/OneMovieGraphQL\";import EditMovieFunc from\"./components/EditMovieFunc\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleJWTChange=function(jwt){_this.setState({jwt:jwt});};_this.logout=function(){_this.setState({jwt:\"\"});window.localStorage.removeItem(\"jwt\");};_this.state={jwt:\"\"};_this.handleJWTChange(_this.handleJWTChange.bind(_assertThisInitialized(_this)));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var t=window.localStorage.getItem(\"jwt\");if(t){if(this.state.jwt===\"\"){this.setState({jwt:JSON.parse(t)});}}}},{key:\"render\",value:function render(){var _this2=this;var loginLink;if(this.state.jwt===\"\"){loginLink=/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"});}else{loginLink=/*#__PURE__*/_jsx(Link,{to:\"/logout\",onClick:this.logout,children:\"Logout\"});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col mt-3\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"mt-3\",children:\"Go Watch a Movie!\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col mt-3 text-end\",children:loginLink}),/*#__PURE__*/_jsx(\"hr\",{className:\"mb-3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/movies\",children:\"Movies\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/genres\",children:\"Genres\"})}),this.state.jwt!==\"\"&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/movie/0\",children:\"Add movie\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin\",children:\"Manage Catalogue\"})})]}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/graphql\",children:\"GraphQL\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-10\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/movies/:id\",component:OneMovie}),/*#__PURE__*/_jsx(Route,{path:\"/moviesgraphql/:id\",component:OneMovieGraphQL}),/*#__PURE__*/_jsx(Route,{path:\"/movies\",children:/*#__PURE__*/_jsx(Movies,{})}),/*#__PURE__*/_jsx(Route,{path:\"/genre/:id\",component:OneGenre}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",component:function component(props){return/*#__PURE__*/_jsx(Login,_objectSpread(_objectSpread({},props),{},{handleJWTChange:_this2.handleJWTChange}));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/genres\",children:/*#__PURE__*/_jsx(Genres,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/graphql\",children:/*#__PURE__*/_jsx(GraphQL,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/movie/:id\",component:function component(props){return/*#__PURE__*/_jsx(EditMovieFunc,_objectSpread(_objectSpread({},props),{},{jwt:_this2.state.jwt}));}}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",component:function component(props){return/*#__PURE__*/_jsx(Admin,_objectSpread(_objectSpread({},props),{},{jwt:_this2.state.jwt}));}}),/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(Home,{})})]})})]})]})});}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/home/aljani/projects/react_go/front-end/src/App.js"],"names":["React","Component","Fragment","BrowserRouter","Router","Switch","Route","Link","Movies","Admin","Home","OneMovie","Genres","OneGenre","Login","GraphQL","OneMovieGraphQL","EditMovieFunc","App","props","handleJWTChange","jwt","setState","logout","window","localStorage","removeItem","state","bind","t","getItem","JSON","parse","loginLink"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Movies from \"./components/Movies\";\nimport Admin from \"./components/Admin\";\nimport Home from \"./components/Home\";\nimport OneMovie from \"./components/OneMovie\";\nimport Genres from \"./components/Genres\";\nimport OneGenre from \"./components/OneGenre\";\nimport Login from \"./components/Login\";\nimport GraphQL from \"./components/GraphQL\";\nimport OneMovieGraphQL from \"./components/OneMovieGraphQL\";\nimport EditMovieFunc from \"./components/EditMovieFunc\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      jwt: \"\",\n    };\n    this.handleJWTChange(this.handleJWTChange.bind(this));\n  }\n\n  componentDidMount() {\n    let t = window.localStorage.getItem(\"jwt\");\n    if (t) {\n      if (this.state.jwt === \"\") {\n        this.setState({jwt: JSON.parse(t)});\n      }\n    }\n  }\n\n  handleJWTChange = (jwt) => {\n    this.setState({ jwt: jwt });\n  };\n\n  logout = () => {\n    this.setState({ jwt: \"\" });\n    window.localStorage.removeItem(\"jwt\");\n  };\n\n  render() {\n    let loginLink;\n    if (this.state.jwt === \"\") {\n      loginLink = <Link to=\"/login\">Login</Link>;\n    } else {\n      loginLink = (\n        <Link to=\"/logout\" onClick={this.logout}>\n          Logout\n        </Link>\n      );\n    }\n\n    return (\n      <Router>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col mt-3\">\n              <h1 className=\"mt-3\">Go Watch a Movie!</h1>\n            </div>\n            <div className=\"col mt-3 text-end\">{loginLink}</div>\n            <hr className=\"mb-3\"></hr>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-md-2\">\n              <nav>\n                <ul className=\"list-group\">\n                  <li className=\"list-group-item\">\n                    <Link to=\"/\">Home</Link>\n                  </li>\n                  <li className=\"list-group-item\">\n                    <Link to=\"/movies\">Movies</Link>\n                  </li>\n                  <li className=\"list-group-item\">\n                    <Link to=\"/genres\">Genres</Link>\n                  </li>\n                  {this.state.jwt !== \"\" && (\n                    <Fragment>\n                      <li className=\"list-group-item\">\n                        <Link to=\"/admin/movie/0\">Add movie</Link>\n                      </li>\n                      <li className=\"list-group-item\">\n                        <Link to=\"/admin\">Manage Catalogue</Link>\n                      </li>\n                    </Fragment>\n                  )}\n                  <li className=\"list-group-item\">\n                    <Link to=\"/graphql\">GraphQL</Link>\n                  </li>\n                </ul>\n              </nav>\n            </div>\n\n            <div className=\"col-md-10\">\n              <Switch>\n                <Route path=\"/movies/:id\" component={OneMovie} />\n                <Route path=\"/moviesgraphql/:id\" component={OneMovieGraphQL} />\n\n                <Route path=\"/movies\">\n                  <Movies />\n                </Route>\n\n                <Route path=\"/genre/:id\" component={OneGenre} />\n\n                <Route\n                  exact\n                  path=\"/login\"\n                  component={(props) => (\n                    <Login {...props} handleJWTChange={this.handleJWTChange} />\n                  )}\n                />\n\n                <Route exact path=\"/genres\">\n                  <Genres />\n                </Route>\n\n                <Route exact path=\"/graphql\">\n                  <GraphQL />\n                </Route>\n\n                <Route\n                  path=\"/admin/movie/:id\"\n                  component={(props) => (\n                    <EditMovieFunc {...props} jwt={this.state.jwt} />\n                  )}\n                />\n\n                <Route\n                  path=\"/admin\"\n                  component={(props) => (\n                    <Admin {...props} jwt={this.state.jwt} />\n                  )}\n                />\n\n                <Route path=\"/\">\n                  <Home />\n                </Route>\n              </Switch>\n            </div>\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}