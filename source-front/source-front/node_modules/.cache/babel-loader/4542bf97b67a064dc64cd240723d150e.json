{"ast":null,"code":"import _classCallCheck from\"/home/aljani/projects/last_try/source-front/source-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aljani/projects/last_try/source-front/source-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/aljani/projects/last_try/source-front/source-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/aljani/projects/last_try/source-front/source-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var OneGenre=/*#__PURE__*/function(_Component){_inherits(OneGenre,_Component);var _super=_createSuper(OneGenre);function OneGenre(){var _this;_classCallCheck(this,OneGenre);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movies:[],isLoaded:false,error:null,genreName:\"\"};return _this;}_createClass(OneGenre,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/v1/movies/\")+this.props.match.params.id).then(function(response){if(response.status!==\"200\"){var err=Error;err.message=\"Invalid response code: \"+response.status;_this2.setState({error:err});}return response.json();}).then(function(json){_this2.setState({movies:json.movies,isLoaded:true,genreName:_this2.props.location.genreName},function(error){_this2.setState({isLoaded:true,error:error});});});}},{key:\"render\",value:function render(){var _this$state=this.state,movies=_this$state.movies,isLoaded=_this$state.isLoaded,error=_this$state.error,genreName=_this$state.genreName;if(!movies){movies=[];}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});}else if(!isLoaded){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}else{return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Genre: \",genreName]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-group\",children:movies.map(function(m){return/*#__PURE__*/_jsx(Link,{to:\"/movies/\".concat(m.id),className:\"list-group-item list-group-item-action\",children:m.title},m.id);})})]});}}}]);return OneGenre;}(Component);export{OneGenre as default};","map":{"version":3,"sources":["/home/aljani/projects/last_try/source-front/source-front/src/components/OneGenre.js"],"names":["React","Component","Fragment","Link","OneGenre","state","movies","isLoaded","error","genreName","fetch","process","env","REACT_APP_API_URL","props","match","params","id","then","response","status","err","Error","message","setState","json","location","map","m","title"],"mappings":"4qBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,C,2FAEqBC,CAAAA,Q,mUACnBC,K,CAAQ,CACNC,MAAM,CAAE,EADF,CAENC,QAAQ,CAAE,KAFJ,CAGNC,KAAK,CAAE,IAHD,CAINC,SAAS,CAAE,EAJL,C,qEAOR,4BAAoB,iBAClBC,KAAK,CAAC,UAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAf,gBAAgD,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAzE,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,MAAT,GAAoB,KAAxB,CAA+B,CAC7B,GAAIC,CAAAA,GAAG,CAAGC,KAAV,CACAD,GAAG,CAACE,OAAJ,CAAc,0BAA4BJ,QAAQ,CAACC,MAAnD,CACA,MAAI,CAACI,QAAL,CAAc,CAAEhB,KAAK,CAAEa,GAAT,CAAd,EACD,CACD,MAAOF,CAAAA,QAAQ,CAACM,IAAT,EAAP,CACD,CARH,EASGP,IATH,CASQ,SAACO,IAAD,CAAU,CACd,MAAI,CAACD,QAAL,CACE,CACElB,MAAM,CAAEmB,IAAI,CAACnB,MADf,CAEEC,QAAQ,CAAE,IAFZ,CAGEE,SAAS,CAAE,MAAI,CAACK,KAAL,CAAWY,QAAX,CAAoBjB,SAHjC,CADF,CAME,SAACD,KAAD,CAAW,CACT,MAAI,CAACgB,QAAL,CAAc,CACZjB,QAAQ,CAAE,IADE,CAEZC,KAAK,CAALA,KAFY,CAAd,EAID,CAXH,EAaD,CAvBH,EAwBD,C,sBAED,iBAAS,CACP,gBAA6C,KAAKH,KAAlD,CAAMC,MAAN,aAAMA,MAAN,CAAcC,QAAd,aAAcA,QAAd,CAAwBC,KAAxB,aAAwBA,KAAxB,CAA+BC,SAA/B,aAA+BA,SAA/B,CAEA,GAAI,CAACH,MAAL,CAAa,CACXA,MAAM,CAAG,EAAT,CACD,CAED,GAAIE,KAAJ,CAAW,CACT,mBAAO,iCAAaA,KAAK,CAACe,OAAnB,GAAP,CACD,CAFD,IAEO,IAAI,CAAChB,QAAL,CAAe,CACpB,mBAAO,iCAAP,CACD,CAFM,IAEA,CACL,mBACE,MAAC,QAAD,yBACE,gCAAYE,SAAZ,GADF,cAGE,YAAK,SAAS,CAAC,YAAf,UACGH,MAAM,CAACqB,GAAP,CAAW,SAACC,CAAD,qBACV,KAAC,IAAD,EAEE,EAAE,mBAAaA,CAAC,CAACX,EAAf,CAFJ,CAGE,SAAS,CAAC,wCAHZ,UAKGW,CAAC,CAACC,KALL,EACOD,CAAC,CAACX,EADT,CADU,EAAX,CADH,EAHF,GADF,CAiBD,CACF,C,sBAjEmChB,S,SAAjBG,Q","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class OneGenre extends Component {\n  state = {\n    movies: [],\n    isLoaded: false,\n    error: null,\n    genreName: \"\",\n  };\n\n  componentDidMount() {\n    fetch(`${process.env.REACT_APP_API_URL}/v1/movies/` + this.props.match.params.id)\n      .then((response) => {\n        if (response.status !== \"200\") {\n          let err = Error;\n          err.message = \"Invalid response code: \" + response.status;\n          this.setState({ error: err });\n        }\n        return response.json();\n      })\n      .then((json) => {\n        this.setState(\n          {\n            movies: json.movies,\n            isLoaded: true,\n            genreName: this.props.location.genreName,\n          },\n          (error) => {\n            this.setState({\n              isLoaded: true,\n              error,\n            });\n          }\n        );\n      });\n  }\n\n  render() {\n    let { movies, isLoaded, error, genreName } = this.state;\n\n    if (!movies) {\n      movies = [];\n    }\n\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <p>Loading...</p>;\n    } else {\n      return (\n        <Fragment>\n          <h2>Genre: {genreName}</h2>\n\n          <div className=\"list-group\">\n            {movies.map((m) => (\n              <Link\n                key={m.id}\n                to={`/movies/${m.id}`}\n                className=\"list-group-item list-group-item-action\"\n              >\n                {m.title}\n              </Link>\n            ))}\n          </div>\n        </Fragment>\n      );\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}