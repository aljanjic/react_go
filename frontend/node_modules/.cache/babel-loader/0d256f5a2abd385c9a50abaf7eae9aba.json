{"ast":null,"code":"import _classCallCheck from\"/home/aljani/projects/react_go/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aljani/projects/react_go/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/aljani/projects/react_go/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/aljani/projects/react_go/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Genres=/*#__PURE__*/function(_Component){_inherits(Genres,_Component);var _super=_createSuper(Genres);function Genres(){var _this;_classCallCheck(this,Genres);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={genres:[],isLoaded:false,error:null};return _this;}_createClass(Genres,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/v1/genres\")).then(function(response){if(response.status!==\"200\"){var err=Error;err.message=\"Invalid response code: \"+response.status;_this2.setState({error:err});}return response.json();}).then(function(json){_this2.setState({genres:json.genres,isLoaded:true},function(error){_this2.setState({isLoaded:true,error:error});});});}},{key:\"render\",value:function render(){var _this$state=this.state,genres=_this$state.genres,isLoaded=_this$state.isLoaded,error=_this$state.error;if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});}else if(!isLoaded){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}else{return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Genres\"}),/*#__PURE__*/_jsx(\"div\",{className:\"list-group\",children:genres.map(function(m){return/*#__PURE__*/_jsx(Link,{className:\"list-group-item list-group-item-action\",to:{pathname:\"/genre/\".concat(m.id),genreName:m.genre_name},children:m.genre_name},m.id);})})]});}}}]);return Genres;}(Component);export{Genres as default};","map":{"version":3,"sources":["/home/aljani/projects/react_go/frontend/src/components/Genres.js"],"names":["React","Component","Fragment","Link","Genres","state","genres","isLoaded","error","fetch","process","env","REACT_APP_API_URL","then","response","status","err","Error","message","setState","json","map","m","pathname","id","genreName","genre_name"],"mappings":"wmBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,C,2FAEqBC,CAAAA,M,2TACnBC,K,CAAQ,CACNC,MAAM,CAAE,EADF,CAENC,QAAQ,CAAE,KAFJ,CAGNC,KAAK,CAAE,IAHD,C,mEAMR,4BAAoB,iBAClBC,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,iBAAhB,eAAL,CACGC,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,MAAT,GAAoB,KAAxB,CAA+B,CAC7B,GAAIC,CAAAA,GAAG,CAAGC,KAAV,CACAD,GAAG,CAACE,OAAJ,CAAc,0BAA4BJ,QAAQ,CAACC,MAAnD,CACA,MAAI,CAACI,QAAL,CAAc,CAAEX,KAAK,CAAEQ,GAAT,CAAd,EACD,CACD,MAAOF,CAAAA,QAAQ,CAACM,IAAT,EAAP,CACD,CARH,EASGP,IATH,CASQ,SAACO,IAAD,CAAU,CACd,MAAI,CAACD,QAAL,CACE,CACEb,MAAM,CAAEc,IAAI,CAACd,MADf,CAEEC,QAAQ,CAAE,IAFZ,CADF,CAKE,SAACC,KAAD,CAAW,CACT,MAAI,CAACW,QAAL,CAAc,CACZZ,QAAQ,CAAE,IADE,CAEZC,KAAK,CAALA,KAFY,CAAd,EAID,CAVH,EAYD,CAtBH,EAuBD,C,sBAED,iBAAS,CACP,gBAAoC,KAAKH,KAAzC,CAAQC,MAAR,aAAQA,MAAR,CAAgBC,QAAhB,aAAgBA,QAAhB,CAA0BC,KAA1B,aAA0BA,KAA1B,CACA,GAAIA,KAAJ,CAAW,CACT,mBAAO,iCAAaA,KAAK,CAACU,OAAnB,GAAP,CACD,CAFD,IAEO,IAAI,CAACX,QAAL,CAAe,CACpB,mBAAO,iCAAP,CACD,CAFM,IAEA,CACL,mBACE,MAAC,QAAD,yBACE,8BADF,cAGE,YAAK,SAAS,CAAC,YAAf,UACGD,MAAM,CAACe,GAAP,CAAW,SAACC,CAAD,qBACV,KAAC,IAAD,EAEE,SAAS,CAAC,wCAFZ,CAGE,EAAE,CAAE,CACFC,QAAQ,kBAAYD,CAAC,CAACE,EAAd,CADN,CAEFC,SAAS,CAAEH,CAAC,CAACI,UAFX,CAHN,UAQGJ,CAAC,CAACI,UARL,EACOJ,CAAC,CAACE,EADT,CADU,EAAX,CADH,EAHF,GADF,CAoBD,CACF,C,oBA7DiCvB,S,SAAfG,M","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Genres extends Component {\n  state = {\n    genres: [],\n    isLoaded: false,\n    error: null,\n  };\n\n  componentDidMount() {\n    fetch(`${process.env.REACT_APP_API_URL}/v1/genres`)\n      .then((response) => {\n        if (response.status !== \"200\") {\n          let err = Error;\n          err.message = \"Invalid response code: \" + response.status;\n          this.setState({ error: err });\n        }\n        return response.json();\n      })\n      .then((json) => {\n        this.setState(\n          {\n            genres: json.genres,\n            isLoaded: true,\n          },\n          (error) => {\n            this.setState({\n              isLoaded: true,\n              error,\n            });\n          }\n        );\n      });\n  }\n\n  render() {\n    const { genres, isLoaded, error } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <p>Loading...</p>;\n    } else {\n      return (\n        <Fragment>\n          <h2>Genres</h2>\n\n          <div className=\"list-group\">\n            {genres.map((m) => (\n              <Link\n                key={m.id}\n                className=\"list-group-item list-group-item-action\"\n                to={{\n                  pathname: `/genre/${m.id}`,\n                  genreName: m.genre_name,\n                }}\n              >\n                {m.genre_name}\n              </Link>\n            ))}\n          </div>\n        </Fragment>\n      );\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}